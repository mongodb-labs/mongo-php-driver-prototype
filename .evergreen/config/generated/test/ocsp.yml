# This file is generated automatically - please edit the "templates/test/ocsp.yml" template file instead.
tasks:
  - name: "ocsp-test_1-rsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-latest"
    tags: ["ocsp", "latest"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "latest"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
  - name: "ocsp-test_1-rsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-rapid"
    tags: ["ocsp", "rapid"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "rapid"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
  - name: "ocsp-test_1-rsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-7.0"
    tags: ["ocsp", "7.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "7.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
  - name: "ocsp-test_1-rsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-6.0"
    tags: ["ocsp", "6.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "6.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
  - name: "ocsp-test_1-rsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-5.0"
    tags: ["ocsp", "5.0"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "5.0"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
  - name: "ocsp-test_1-rsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_1-rsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_1-ecdsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_2-rsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_2-ecdsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_2"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_3-rsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_3-ecdsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_3"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-test_4-rsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-test_4-ecdsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "TEST_4"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-soft_fail_test-rsa-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-soft_fail_test-ecdsa-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-success.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-delegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "on"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-rsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "rsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_1-ecdsa-nodelegate-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "run OCSP responder"
        vars:
          TEST_COLUMN: "MALICIOUS_SERVER_TEST_1"
          CERT_TYPE: "ecdsa"
          USE_DELEGATE: "off"
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-rsa-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "rsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/rsa/ca.pem"

  - name: "ocsp-malicious_server_test_2-ecdsa-4.4"
    tags: ["ocsp", "4.4"]
    commands:
      - func: "bootstrap mongo-orchestration"
        vars:
          MONGODB_VERSION: "4.4"
          TOPOLOGY: "server"
          ORCHESTRATION_FILE: "ecdsa-basic-tls-ocsp-mustStaple-disableStapling.json"
      - func: "run tests"
        vars:
          TESTS: "tests/ocsp-failure.phpt"
          APPEND_URI: "/?tls=true&tlsCAFile=${DRIVERS_TOOLS}/.evergreen/ocsp/ecdsa/ca.pem"
